{"version":3,"sources":["../src/web.js"],"names":["express","require","bodyParser","packageInfo","app","use","json","get","req","res","version","server","listen","process","env","PORT","host","address","port","console","log","module","exports","bot","post","token","processUpdate","body","sendStatus"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,aAAaD,QAAQ,aAAR,CAAnB;AACA,IAAME,cAAcF,QAAQ,iBAAR,CAApB;;AAGA,IAAMG,MAAMJ,SAAZ;AACAI,IAAIC,GAAJ,CAAQH,WAAWI,IAAX,EAAR;;AAEAF,IAAIG,GAAJ,CAAQ,GAAR,EAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC/BA,MAAIH,IAAJ,CAAS,EAAEI,SAASP,YAAYO,OAAvB,EAAT;AACD,CAFD;;AAIA,IAAIC,SAASP,IAAIQ,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,IAAvB,EAA6B,SAA7B,EAAwC,YAAM;AACzD,MAAMC,OAAOL,OAAOM,OAAP,GAAiBA,OAA9B;AACA,MAAMC,OAAOP,OAAOM,OAAP,GAAiBC,IAA9B;AACAC,UAAQC,GAAR,CAAY,oCAAZ,EAAkDJ,IAAlD,EAAwDE,IAAxD;AACD,CAJY,CAAb;;AAMAG,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAS;AACxBnB,MAAIoB,IAAJ,CAAS,MAAMD,IAAIE,KAAnB,EAA0B,UAACjB,GAAD,EAAMC,GAAN,EAAc;AACtCc,QAAIG,aAAJ,CAAkBlB,IAAImB,IAAtB;AACAlB,QAAImB,UAAJ,CAAe,GAAf;AACD,GAHD;AAID,CALD","file":"web.js","sourcesContent":["const express = require('express');\nconst bodyParser = require('body-parser');\nconst packageInfo = require('../package.json');\n\n\nconst app = express();\napp.use(bodyParser.json());\n\napp.get('/', function (req, res) {\n  res.json({ version: packageInfo.version });\n});\n\nvar server = app.listen(process.env.PORT, \"0.0.0.0\", () => {\n  const host = server.address().address;\n  const port = server.address().port;\n  console.log('Web server started at http://%s:%s', host, port);\n});\n\nmodule.exports = (bot) => {\n  app.post('/' + bot.token, (req, res) => {\n    bot.processUpdate(req.body);\n    res.sendStatus(200);\n  });\n};\n"]}
{"version":3,"sources":["../src/bot.js"],"names":["token","process","env","TOKEN","Bot","require","bot","NODE_ENV","setWebHook","HEROKU_URL","polling","console","log","onText","msg","name","from","first_name","sendMessage","chat","id","WELCOME_MESSAGE","module","exports"],"mappings":";;AAIA;;AAJA,IAAMA,QAAQC,QAAQC,GAAR,CAAYC,KAA1B;;AAEA,IAAMC,MAAMC,QAAQ,uBAAR,CAAZ;;AAIA,IAAIC,YAAJ;;AAEA,IAAGL,QAAQC,GAAR,CAAYK,QAAZ,KAAyB,YAA5B,EAA0C;AACxCD,QAAM,IAAIF,GAAJ,CAAQJ,KAAR,CAAN;AACAM,MAAIE,UAAJ,CAAeP,QAAQC,GAAR,CAAYO,UAAZ,GAAyBH,IAAIN,KAA5C;AACD,CAHD,MAIK;AACHM,QAAM,IAAIF,GAAJ,CAAQJ,KAAR,EAAe,EAAEU,SAAS,IAAX,EAAf,CAAN;AACD;;AAEDC,QAAQC,GAAR,CAAY,+BAA+BX,QAAQC,GAAR,CAAYK,QAA3C,GAAsD,OAAlE;;AAEAD,IAAIO,MAAJ,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAS;AAC7B,MAAMC,OAAOD,IAAIE,IAAJ,CAASC,UAAtB;AACAX,MAAIY,WAAJ,CAAgBJ,IAAIK,IAAJ,CAASC,EAAzB,mBAA4CL,IAA5C,UAAqDM,uBAArD;AAED,CAJD;;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEAC,OAAOC,OAAP,GAAiBjB,GAAjB","file":"bot.js","sourcesContent":["const token = process.env.TOKEN;\n\nconst Bot = require('node-telegram-bot-api');\n\nimport { WELCOME_MESSAGE } from './consts'\n\nlet bot;\n\nif(process.env.NODE_ENV === 'production') {\n  bot = new Bot(token);\n  bot.setWebHook(process.env.HEROKU_URL + bot.token);\n}\nelse {\n  bot = new Bot(token, { polling: true });\n}\n\nconsole.log('Bot server started in the ' + process.env.NODE_ENV + ' mode');\n\nbot.onText(/\\/start/, (msg) => {\n  const name = msg.from.first_name;\n  bot.sendMessage(msg.chat.id, `Hello there ${name}! ${WELCOME_MESSAGE}`);\n  \n});\n\n// bot.on('message', (msg) => {\n//   const name = msg.from.first_name;\n//   bot.sendMessage(msg.chat.id, 'Hello, ' + name + '!').then(() => {\n//     console.log(\"I said hello!\")\n//   });\n// });\n\nmodule.exports = bot;\n"]}